<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0-M13 from src/site/markdown/index.md at 2023-10-23
 | Rendered using Apache Maven Fluido Skin 2.0.0-M6
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 2.0.0-M13" />
    <title>inline-maven-plugin â€“ Inline plugin for Apache Maven</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-2.0.0-M6.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-2.0.0-M6.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <a class="github-fork-ribbon right-top" href="https://github.com/basepom/inline-maven-plugin" data-ribbon="Fork me on GitHub" title="Fork me on GitHub">Fork me on GitHub</a>
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"></div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2023-10-23<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 1.3.1-SNAPSHOT</li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Overview</li>
    <li class="active"><a><span class="none"></span>Introduction</a></li>
    <li><a href="plugin-info.html" title="Goals"><span class="none"></span>Goals</a></li>
    <li><a href="https://www.apache.org/licenses/LICENSE-2.0" class="externalLink" title="License"><span class="none"></span>License</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-down"></span>Project Information</a>
     <ul class="nav nav-list">
      <li class="active"><a><span class="none"></span>About</a></li>
      <li><a href="summary.html" title="Summary"><span class="none"></span>Summary</a></li>
      <li><a href="dependency-info.html" title="Dependency Information"><span class="none"></span>Dependency Information</a></li>
      <li><a href="scm.html" title="Source Code Management"><span class="none"></span>Source Code Management</a></li>
      <li><a href="issue-management.html" title="Issue Management"><span class="none"></span>Issue Management</a></li>
      <li><a href="team.html" title="Team"><span class="none"></span>Team</a></li>
      <li><a href="licenses.html" title="Licenses"><span class="none"></span>Licenses</a></li>
      <li><a href="dependency-convergence.html" title="Dependency Convergence"><span class="none"></span>Dependency Convergence</a></li>
      <li><a href="dependencies.html" title="Dependencies"><span class="none"></span>Dependencies</a></li>
      <li><a href="dependency-management.html" title="Dependency Management"><span class="none"></span>Dependency Management</a></li>
      <li><a href="plugins.html" title="Plugins"><span class="none"></span>Plugins</a></li>
      <li><a href="plugin-management.html" title="Plugin Management"><span class="none"></span>Plugin Management</a></li>
     </ul></li>
    <li><a href="project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >
<section>
<h1>Inline plugin for Apache Maven</h1>
<p>This plugin inlines dependencies to a library or other application into the main artifact.</p><section>
<h2>When to use this plugin</h2>
<p>Easily create components that have external dependencies but should not &#x201c;bleed&#x201d; these dependencies into other code that wants to use
them. The plugin will take these dependencies, inline them and rewrite the POM for the main artifact to no longer refer to the dependencies that have been
inlined.</p></section><section>
<h2>How to use the plugin</h2>
<p>Inline a single dependency:</p>

<div class="verbatim">
<pre><code class="language-xml">&lt;project&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.antlr&lt;/groupId&gt;
      &lt;artifactId&gt;antlr4-runtime&lt;/artifactId&gt;
      &lt;version&gt;4.9.2&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.basepom.maven&lt;/groupId&gt;
        &lt;artifactId&gt;inline-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.2.0&lt;/version&gt;
        &lt;configuration&gt;
          &lt;prefix&gt;relocated&lt;/prefix&gt;
          &lt;inlineDependencies&gt;
            &lt;inlineDependency&gt;
              &lt;artifact&gt;org.antlr:antlr4-runtime&lt;/artifact&gt;
            &lt;/inlineDependency&gt;
          &lt;/inlineDependencies&gt;
        &lt;/configuration&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;phase&gt;package&lt;/phase&gt;
            &lt;goals&gt;
              &lt;goal&gt;inline&lt;/goal&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
&lt;/project&gt;
</code></pre></div>
<p>The plugin will put all content of the inlined dependency under the <code>relocated</code> prefix and rewrite the code to use these relocated classes and resources.</p>
<p>The <code>inline:inline</code> goal is the main goal and should be called in the <code>package</code> phase of the lifecycle.</p><section>
<h3>Supported configuration options</h3>

<div class="verbatim">
<pre><code class="language-xml">&lt;configuration&gt;
  &lt;inlineDependencies&gt;
    &lt;inlineDependency&gt;
      &lt;artifact&gt; ...groupId:artifactId... &lt;/artifact&gt;
      &lt;inlineTransitive&gt;true|false&lt;/inlineTransitive&gt;
      &lt;inlineOptionals&gt;true|false|&lt;/inlineOptionals&gt;
    &lt;/inlineDependency&gt;
        ....
  &lt;/inlineDependencies&gt;

  &lt;prefix&gt; ...relocation prefix... &lt;/prefix&gt;

  &lt;includes&gt;
    &lt;include&gt; ...groupId:artifactId... &lt;/include&gt;
      ....
  &lt;/includes&gt;

  &lt;excludes&gt;
    &lt;exclude&gt; ...groupId:artifactId... &lt;/exclude&gt;
      ....
  &lt;/excludes&gt;

  &lt;failOnDuplicate&gt;true (false)&lt;/failOnDuplicate&gt;
  &lt;failOnNoMatch&gt;true (false)&lt;/failOnNoMatch&gt;
  &lt;hideClasses&gt;true (false)&lt;/hideClasses&gt;
  &lt;inlinedArtifactAttached&gt;false (true)&lt;/inlinedArtifactAttached&gt;
  &lt;quiet&gt;false (true)&lt;/quiet&gt;
  &lt;replacePomFile&gt;true (false)&lt;/replacePomFile&gt;
  &lt;skip&gt;false (true)&lt;/skip&gt;

  &lt;inlinedClassifierName&gt;inlined&lt;/inlinedClassifierName&gt;
  &lt;outputJarFile&gt; ...file name... &lt;/outputJarFile&gt;
  &lt;outputPomFile&gt; ...file name... &lt;/outputPomFile&gt;

  &lt;additionalProcessors&gt;
    &lt;additionalProcessor&gt; ... class name of processor... &lt;/additionalProcessor&gt;
      ....
  &lt;/additionalProcessors&gt;

  &lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;
  &lt;pomFile&gt;${project.file}&lt;/pomFile&gt;
&lt;/configuration&gt;
</code></pre></div><section>
<h4>Required configuration parameters</h4>
<table class="table table-striped">
<thead>
<tr class="a">
<th>Option</th>
<th>Type</th>
<th>Default</th>
<th>Function</th></tr></thead><tbody>
<tr class="b">
<td><code>prefix</code></td>
<td>string</td>
<td>-</td>
<td>Defined the root package for all relocated classes.</td></tr></tbody>
</table>
</section><section>
<h4>Optional configuration parameters</h4>
<table class="table table-striped">
<thead>
<tr class="a">
<th>Option</th>
<th>Type</th>
<th>Default</th>
<th>Function</th></tr></thead><tbody>
<tr class="b">
<td><code>failOnDuplicate</code></td>
<td>boolean</td>
<td><code>true</code></td>
<td>Any duplicate entry in the rewritten jar file will fail the build. If <code>false</code>, duplicates will be discarded.</td></tr>
<tr class="a">
<td><code>failOnNoMatch</code></td>
<td>boolean</td>
<td><code>true</code></td>
<td>Each <code>inlineDependency</code> item must match a project dependency. Fail the build otherwise.</td></tr>
<tr class="b">
<td><code>hideClasses</code></td>
<td>boolean</td>
<td><code>true</code></td>
<td>If true, rewrites all classes in a jar to be not visible for IDE auto-completion.</td></tr>
<tr class="a">
<td><code>inlinedArtifactAttached</code></td>
<td>boolean</td>
<td><code>false</code></td>
<td>If true, attach the rewritten jar using the <code>inlinedClassifierName</code>, otherwise replace the main artifact.</td></tr>
<tr class="b">
<td><code>inlinedClassifierName</code></td>
<td>string</td>
<td><code>inlined</code></td>
<td>If the rewritten jar gets attached, use this value as the classifier.</td></tr>
<tr class="a">
<td><code>outputDirectory</code></td>
<td>string</td>
<td><code>${project.build.directory}</code></td>
<td>The plugin writes the rewritten jar file in this directory.</td></tr>
<tr class="b">
<td><code>outputJarFile</code></td>
<td>string</td>
<td>-</td>
<td>Sets an explicit output file for the rewritten jar file. If unused, write the jar in the project build directory using the <code>inlinedClassifierName</code> classifier.</td></tr>
<tr class="a">
<td><code>outputPomFile</code></td>
<td>string</td>
<td>-</td>
<td>Sets an explicit output file for the rewritten pom file. If unused, write the POM using the name of the original POM file, prefixed with <code>new-</code>.</td></tr>
<tr class="b">
<td><code>pomFile</code></td>
<td>string</td>
<td><code>${project.file}</code></td>
<td>The POM file for the project. This will be read to create the rewritten POM.</td></tr>
<tr class="a">
<td><code>quiet</code></td>
<td>boolean</td>
<td><code>false</code></td>
<td>If true, do not output any information besides errors or warnings.</td></tr>
<tr class="b">
<td><code>replacePomFile</code></td>
<td>boolean</td>
<td><code>true</code></td>
<td>Replace the POM file in the build cycle with the rewritten POM file. This does <em>NOT</em> rewrite the POM file on disk but uses it for all subsequent steps in the build cycle (including <code>install</code> and <code>deploy</code>).</td></tr>
<tr class="a">
<td><code>skip</code></td>
<td>boolean</td>
<td><code>false</code></td>
<td>If true, skips execution of the plugin.</td></tr>
<tr class="b">
<td><code>inlineDependencies</code></td>
<td>list of <code>inlineDependency</code> elements</td>
<td>-</td>
<td>see below.</td></tr>
<tr class="a">
<td><code>includes</code></td>
<td>explicit list of dependencies to include</td>
<td>-</td>
<td>see below.</td></tr>
<tr class="b">
<td><code>excludes</code></td>
<td>explicit list of dependencies to exclude</td>
<td>-</td>
<td>see below.</td></tr>
<tr class="a">
<td><code>additionalProcessors</code></td>
<td>list of class names</td>
<td>-</td>
<td>Additional jar processors to rewrite the jar. See [Additional Processors] for more information.</td></tr></tbody>
</table>
</section><section>
<h4>Defining dependencies to inline with <code>inlineDependencies</code>:</h4>
<table class="table table-striped">
<thead>
<tr class="a">
<th>Option</th>
<th>Type</th>
<th>Default</th>
<th>Function</th></tr></thead><tbody>
<tr class="b">
<td><code>artifact</code></td>
<td>string</td>
<td>-</td>
<td>Defines the artifact to inline. Must be given as <code>groupId:artifactId</code>.</td></tr>
<tr class="a">
<td><code>inlineTransitive</code></td>
<td>boolean</td>
<td><code>false</code></td>
<td>If true, also inline all transitive dependencies. If false, transitive dependencies are added to the rewritten POM file as direct dependencies.</td></tr>
<tr class="b">
<td><code>inlineOptionals</code></td>
<td>boolean</td>
<td><code>false</code></td>
<td>If true, add all optional, transitive dependencies as well. If false, ignore optional dependencies.</td></tr></tbody>
</table>
</section><section>
<h4>Dealing with <code>runtime</code> dependencies</h4>
<p>Sometimes, an inlined dependency has itself dependencies in <code>runtime</code> scope. Those will <em>not</em> be inlined by default but become a <code>runtime</code> dependency of the final jar. If this is not desired, such runtime dependencies can also be added as an <code>inlineDependency</code> element.</p></section><section>
<h4>Including and excluding dependencies</h4>
<p>It should not be necessary to explicitly specify includes and excludes. If a dependency is inlined and has transitive dependencies that are also used by the project itself, these will be automatically excluded.</p>
<p>The <code>&lt;includes&gt;</code> and <code>&lt;excludes&gt;</code> options can be used in special cases. If the <code>includes</code> list is empty, everything that has been specified using <code>inlineDependencies</code> will be automatically included (direct and transitive) and any exclude will remove dependencies. If the <code>include</code> list is not empty, any transitive dependency included <em>must</em> be specified as included. If both includes and excludes are defined, the order is &#x201c;included, then excluded&#x201d;.</p></section></section></section><section>
<h2>When not to use this plugin</h2>
<p>There is a wealth of other plugins that do similar things. This plugin is <em>NOT</em> intended to create executable jars, all-in-one deployable services or support a large number of customizations. For any of those, better choices exist, e.g.</p>
<ul>

<li><a href="https://basepom.github.io/repack-maven-plugin/development/" class="externalLink">Maven Repack Plugin</a> - this is a companion project to the inline plugin</li>
<li><a href="https://maven.apache.org/plugins/maven-shade-plugin/" class="externalLink">Maven Shade Plugin</a></li>
<li><a href="https://maven.apache.org/plugins/maven-assembly-plugin/" class="externalLink">Maven Assembly Plugin</a></li>
<li><a href="https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/" class="externalLink">Spring Boot Maven Plugin</a></li>
<li><a href="https://sonatype.github.io/jarjar-maven-plugin/" class="externalLink">JarJar plugin</a></li>
</ul>
<p>Each of those is a good choice for use cases that are not covered by the this plugin.</p></section></section>
        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Â©      2021â€“2023
<a href="https://github.com/basepom">The basepom project</a>
</p>
        </div>
      </div>
    </footer>
<script>
  if(anchors) {
    anchors.add();
  }
</script>
  </body>
</html>