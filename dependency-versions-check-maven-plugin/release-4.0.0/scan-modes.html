<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0-M10 from src/site/markdown/scan-modes.md at 2023-05-20
 | Rendered using Apache Maven Fluido Skin 2.0.0-M6
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 2.0.0-M10" />
    <title>dependency-versions-check-maven-plugin – Scan Modes</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-2.0.0-M6.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-2.0.0-M6.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <a class="github-fork-ribbon right-top" href="https://github.com/basepom/dependency-versions-check-maven-plugin" data-ribbon="Fork me on GitHub" title="Fork me on GitHub">Fork me on GitHub</a>
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"></div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2023-05-20<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 4.0.0</li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Overview</li>
    <li><a href="index.html" title="Introduction"><span class="none"></span>Introduction</a></li>
    <li><a href="plugin-info.html" title="Goals"><span class="none"></span>Goals</a></li>
    <li class="active"><a><span class="none"></span>Scan Modes</a></li>
    <li><a href="https://www.apache.org/licenses/LICENSE-2.0" class="externalLink" title="License"><span class="none"></span>License</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >
<section><section>
<h2>Scan Modes</h2>
<p>The plugin supports two different scan modes: normal scan and deep scan.</p><section>
<h3>Normal scan</h3>
<p>In this mode, the plugin will resolve the dependency tree for every
direct dependency of a project. It will then compare the versions with
the versions defined in the project POM and the dependency tree
resolved by maven itself</p>
<p>A direct dependency is a dependency that is listed in the POM
itself. E.g the dependency versions check plugin has the following
direct dependencies:</p>

<div class="verbatim">
<pre><code>Direct dependencies for 'test' scope:
com.google.guava:guava:                                 compile  29.0-jre (25.1-android)
org.apache.maven.plugin-tools:maven-plugin-annotations: provided 3.6.0
org.apache.maven.resolver:maven-resolver-api:           provided 1.4.2 (1.4.1)
org.apache.maven.resolver:maven-resolver-util:          compile  1.4.2 (1.4.1)
org.apache.maven.shared:maven-shared-utils:             compile  3.3.3 (3.2.1)
org.apache.maven:maven-artifact:                        provided 3.6.3 (3.0)
org.apache.maven:maven-core:                            provided 3.6.3
org.apache.maven:maven-model:                           provided 3.6.3
org.apache.maven:maven-plugin-api:                      provided 3.6.3
org.codehaus.plexus:plexus-component-annotations:       provided 2.1.0
org.junit.jupiter:junit-jupiter-api:                    test     5.7.0
org.junit.jupiter:junit-jupiter-engine:                 test     5.7.0
org.slf4j:slf4j-api:                                    provided 1.7.30 (1.7.29)
</code></pre></div>
<p>Each of these direct dependencies has a sub-tree of dependencies:</p>

<div class="verbatim">
<pre><code>project
  |
  +--- dependency A --- dependency D
  +--- dependency B -+- dependency E
  |                  +- dependency F
  +--- dependency C
</code></pre></div>
<p>The plugin will compute the dependency tree starting at <code>dependency A</code>,
<code>dependency B</code> and <code>dependency C</code> and then compare the versions
that the different dependencies have in each dependency tree.</p>
<p>It will also limit its scope to the dependencies that actually end up
on the class path for the selected scope.</p>
<p>This mode assumes that all dependencies used have valid dependency
sub-trees. The scan cares about that all these subtrees can be
combined and the versions chosen by the maven dependency resolution
satisfy the requirements of all the different dependencies.</p>
<p>The normal scan mode is sufficient for almost all projects. It should
detect most real problems that stem from the combination of
dependencies in the current project.</p>
<p>Example for the &#x201c;normal&#x201d; scan mode (for the plugin itself)</p>

<div class="verbatim">
<pre><code>All dependencies for 'test' scope:
aopalliance:aopalliance:                                provided 1.0
com.google.code.findbugs:jsr305:                        compile  3.0.2
com.google.errorprone:error_prone_annotations:          compile  2.4.0 (2.1.3, 2.3.4)
com.google.guava:failureaccess:                         compile  1.0.1
com.google.guava:guava:                                 compile  29.0-jre (25.1-android)
com.google.guava:listenablefuture:                      compile  9999.0-empty-to-avoid-conflict-with-guava
com.google.inject:guice (no_aop):                       provided 4.2.1
com.google.j2objc:j2objc-annotations:                   compile  1.3 (1.1)
commons-io:commons-io:                                  compile  2.6 (2.5)
javax.annotation:jsr250-api:                            provided 1.0
javax.enterprise:cdi-api:                               provided 1.0
javax.inject:javax.inject:                              provided 1
org.apache.commons:commons-lang3:                       provided 3.8.1
org.apache.maven.plugin-tools:maven-plugin-annotations: provided 3.6.0
org.apache.maven.resolver:maven-resolver-api:           provided 1.4.2 (1.4.1)
org.apache.maven.resolver:maven-resolver-impl:          provided 1.4.1
org.apache.maven.resolver:maven-resolver-spi:           provided 1.4.1
org.apache.maven.resolver:maven-resolver-util:          compile  1.4.2 (1.4.1)
org.apache.maven.shared:maven-shared-utils:             compile  3.3.3 (3.2.1)
org.apache.maven:maven-artifact:                        provided 3.6.3 (3.0)
org.apache.maven:maven-builder-support:                 provided 3.6.3
org.apache.maven:maven-core:                            provided 3.6.3
org.apache.maven:maven-model:                           provided 3.6.3
org.apache.maven:maven-model-builder:                   provided 3.6.3
org.apache.maven:maven-plugin-api:                      provided 3.6.3
org.apache.maven:maven-repository-metadata:             provided 3.6.3
org.apache.maven:maven-resolver-provider:               provided 3.6.3
org.apache.maven:maven-settings:                        provided 3.6.3
org.apache.maven:maven-settings-builder:                provided 3.6.3
org.apiguardian:apiguardian-api:                        test     1.1.0
org.checkerframework:checker-qual:                      compile  2.11.1
org.codehaus.plexus:plexus-classworlds:                 provided 2.6.0
org.codehaus.plexus:plexus-component-annotations:       provided 2.1.0
org.codehaus.plexus:plexus-interpolation:               provided 1.25
org.codehaus.plexus:plexus-utils:                       provided 3.2.1 (3.0.10, 3.0.20)
org.eclipse.sisu:org.eclipse.sisu.inject:               provided 0.3.4
org.eclipse.sisu:org.eclipse.sisu.plexus:               provided 0.3.4
org.junit.jupiter:junit-jupiter-api:                    test     5.7.0
org.junit.jupiter:junit-jupiter-engine:                 test     5.7.0
org.junit.platform:junit-platform-commons:              test     1.7.0
org.junit.platform:junit-platform-engine:               test     1.7.0
org.opentest4j:opentest4j:                              test     1.2.0
org.slf4j:slf4j-api:                                    provided 1.7.30 (1.7.29)
org.sonatype.plexus:plexus-cipher:                      provided 1.7
org.sonatype.plexus:plexus-sec-dispatcher:              provided 1.4
</code></pre></div>
<p>In this output, there are more dependencies (each of the direct dependencies may have transitive dependencies). The result are all dependencies that end up on the class path, both direct and transitive dependencies.</p></section><section>
<h3>Deep scan</h3>
<p>The deep scan mode differs that it not only resolves the dependencies for the project that are directly referenced in the project POM but everything that is present  on the classpath in the selected scope.</p>

<div class="verbatim">
<pre><code>All dependencies using deep scan for 'test' scope:
aopalliance:aopalliance:                                provided 1.0
com.google.code.findbugs:jsr305:                        compile  3.0.2 (3.0.1)
com.google.errorprone:error_prone_annotations:          compile  2.4.0 (2.1.3, 2.3.4)
com.google.guava:failureaccess:                         compile  1.0.1
com.google.guava:guava:                                 compile  29.0-jre (25.1-android)
com.google.guava:listenablefuture:                      compile  9999.0-empty-to-avoid-conflict-with-guava
com.google.inject:guice (no_aop):                       provided 4.2.1
com.google.j2objc:j2objc-annotations:                   compile  1.3 (1.1)
commons-io:commons-io:                                  compile  2.6 (2.5)
javax.annotation:jsr250-api:                            provided 1.0
javax.enterprise:cdi-api:                               provided 1.0
javax.inject:javax.inject:                              provided 1
org.apache.commons:commons-lang3:                       provided 3.8.1
org.apache.maven.plugin-tools:maven-plugin-annotations: provided 3.6.0
org.apache.maven.resolver:maven-resolver-api:           provided 1.4.2 (1.4.1)
org.apache.maven.resolver:maven-resolver-impl:          provided 1.4.1
org.apache.maven.resolver:maven-resolver-spi:           provided 1.4.1
org.apache.maven.resolver:maven-resolver-util:          compile  1.4.2 (1.4.1)
org.apache.maven.shared:maven-shared-utils:             compile  3.3.3 (3.2.1)
org.apache.maven:maven-artifact:                        provided 3.6.3 (3.0)
org.apache.maven:maven-builder-support:                 provided 3.6.3
org.apache.maven:maven-core:                            provided 3.6.3
org.apache.maven:maven-model:                           provided 3.6.3
org.apache.maven:maven-model-builder:                   provided 3.6.3
org.apache.maven:maven-plugin-api:                      provided 3.6.3
org.apache.maven:maven-repository-metadata:             provided 3.6.3
org.apache.maven:maven-resolver-provider:               provided 3.6.3
org.apache.maven:maven-settings:                        provided 3.6.3
org.apache.maven:maven-settings-builder:                provided 3.6.3
org.apiguardian:apiguardian-api:                        test     1.1.0
org.checkerframework:checker-qual:                      compile  2.11.1
org.codehaus.plexus:plexus-classworlds:                 provided 2.6.0 (2.5.2)
org.codehaus.plexus:plexus-component-annotations:       provided 2.1.0 (1.5.5)
org.codehaus.plexus:plexus-interpolation:               provided 1.25
org.codehaus.plexus:plexus-utils:                       provided 3.2.1 (1.5.5, 3.0.10, 3.0.17, 3.0.20)
org.eclipse.sisu:org.eclipse.sisu.inject:               provided 0.3.4
org.eclipse.sisu:org.eclipse.sisu.plexus:               provided 0.3.4
org.junit.jupiter:junit-jupiter-api:                    test     5.7.0
org.junit.jupiter:junit-jupiter-engine:                 test     5.7.0
org.junit.platform:junit-platform-commons:              test     1.7.0
org.junit.platform:junit-platform-engine:               test     1.7.0
org.opentest4j:opentest4j:                              test     1.2.0
org.slf4j:slf4j-api:                                    provided 1.7.30 (1.7.25, 1.7.29)
org.sonatype.plexus:plexus-cipher:                      provided 1.7 (1.4)
org.sonatype.plexus:plexus-sec-dispatcher:              provided 1.4
</code></pre></div>
<p>While the output still has the same number of dependencies, there are now more versions listed, e.g. <code>3.2.1 (1.5.5, 3.0.10, 3.0.17, 3.0.20)</code> for <code>plexus-utils</code> while the regular scan only detected <code>3.2.1 (3.0.10, 3.0.20)</code>. Deep scan detected the same dependency is referenced transitively from other transitive dependencies with these additional versions.</p>
<p>Deep scan is most useful to detect very obscure dependency problems that often manifest in <code>NoClassDefFoundError</code> or <code>IncompatibleClassChangeError</code> problems.</p>
<p>This mode needs to load a very large number of dependencies and an initial run can (especially for a large project) take a long time and load a lot of data from the network.</p></section></section></section>
        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>©      2020–2023
<a href="https://github.com/basepom">The basepom project</a>
</p>
        </div>
      </div>
    </footer>
<script>
  if(anchors) {
    anchors.add();
  }
</script>
  </body>
</html>