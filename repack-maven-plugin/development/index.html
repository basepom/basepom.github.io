<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0-M13 from src/site/markdown/index.md at 2024-01-27
 | Rendered using Apache Maven Fluido Skin 2.0.0-M6
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 2.0.0-M13" />
    <title>Repack Maven Plugin – Repack maven plugin</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-2.0.0-M6.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-2.0.0-M6.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <a class="github-fork-ribbon right-top" href="https://github.com/basepom/maven-plugins" data-ribbon="Fork me on GitHub" title="Fork me on GitHub">Fork me on GitHub</a>
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"></div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2024-01-27<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 1.0.1-SNAPSHOT</li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Overview</li>
    <li class="active"><a><span class="none"></span>Introduction</a></li>
    <li><a href="plugin-info.html" title="Goals"><span class="none"></span>Goals</a></li>
    <li><a href="include-exclude-dependencies.html" title="Dependency inclusion and exclusion"><span class="none"></span>Dependency inclusion and exclusion</a></li>
    <li><a href="why-repack.html" title="Why Repack?"><span class="none"></span>Why Repack?</a></li>
    <li><a href="https://www.apache.org/licenses/LICENSE-2.0" class="externalLink" title="License"><span class="none"></span>License</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-down"></span>Project Information</a>
     <ul class="nav nav-list">
      <li class="active"><a><span class="none"></span>About</a></li>
      <li><a href="summary.html" title="Summary"><span class="none"></span>Summary</a></li>
      <li><a href="dependency-info.html" title="Dependency Information"><span class="none"></span>Dependency Information</a></li>
      <li><a href="scm.html" title="Source Code Management"><span class="none"></span>Source Code Management</a></li>
      <li><a href="issue-management.html" title="Issue Management"><span class="none"></span>Issue Management</a></li>
      <li><a href="team.html" title="Team"><span class="none"></span>Team</a></li>
      <li><a href="licenses.html" title="Licenses"><span class="none"></span>Licenses</a></li>
      <li><a href="dependency-convergence.html" title="Dependency Convergence"><span class="none"></span>Dependency Convergence</a></li>
      <li><a href="dependencies.html" title="Dependencies"><span class="none"></span>Dependencies</a></li>
      <li><a href="dependency-management.html" title="Dependency Management"><span class="none"></span>Dependency Management</a></li>
      <li><a href="plugins.html" title="Plugins"><span class="none"></span>Plugins</a></li>
      <li><a href="plugin-management.html" title="Plugin Management"><span class="none"></span>Plugin Management</a></li>
     </ul></li>
    <li><a href="project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >
<section><section>
<h2>Repack maven plugin</h2>
<p>This plugin can repackage all dependencies and classes for a JVM application into a single executable.</p></section><section>
<h2>When to use this plugin</h2>
<p>Create a single artifact that can be executed using the <code>java -jar</code> command. This plugin will take the dependencies, package them up and create a new &#x201c;fat&#x201d; jar that can be deployed as a single archive.</p></section><section>
<h2>How to use this plugin</h2>
<p>The repack plugin can be just attached to the build lifecycle to package artifacts:</p>

<div class="verbatim">
<pre><code class="language-xml">&lt;plugins&gt;
    &lt;plugin&gt;
        &lt;groupId&gt;org.basepom.maven&lt;/groupId&gt;
        &lt;artifactId&gt;repack-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.0.0&lt;/version&gt;
        &lt;executions&gt;
            &lt;execution&gt;
                &lt;phase&gt;package&lt;/phase&gt;
                &lt;goals&gt;
                    &lt;goal&gt;repack&lt;/goal&gt;
                &lt;/goals&gt;
            &lt;/execution&gt;
        &lt;/executions&gt;
    &lt;/plugin&gt;
&lt;/plugins&gt;
</code></pre></div>
<p>Without any configuration, it will create a new artifact with the same name as the original artifact, use the <code>repacked</code> classifier and not add or modify any main class manifest entry.</p><section>
<h3>Optional configuration options</h3>

<div class="verbatim">
<pre><code class="language-xml">&lt;project&gt;
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.basepom.maven&lt;/groupId&gt;
                &lt;artifactId&gt;repack-maven-plugin&lt;/artifactId&gt;
                &lt;version&gt;1.0.0&lt;/version&gt;
                &lt;configuration&gt;
                    &lt;!-- common options --&gt;
                    &lt;skip&gt;true|false&lt;/skip&gt;
                    &lt;quiet&gt;true|false&lt;/quiet&gt;
                    &lt;outputDirectory&gt;..&lt;/outputDirectory&gt;
                    &lt;mainClass&gt;... class name containing main method ...&lt;/mainClass&gt;
                    &lt;report&gt;true|false&lt;/report&gt;

                    &lt;!-- control name of final artifact --&gt;
                    &lt;finalName&gt;... final name of the artifact ...&lt;/finalName&gt;
                    &lt;repackClassifier&gt;repacked&lt;/repackClassifier&gt;
                    &lt;attachRepackedArtifact&gt;true|false&lt;/attachRepackedArtifact&gt;

                    &lt;!-- controls content of the final artifact --&gt;
                    &lt;includeOptional&gt;true|false&lt;/includeOptional&gt;
                    &lt;includeProvidedScope&gt;true|false&lt;/includeProvidedScope&gt;
                    &lt;includeSystemScope&gt;true|false&lt;/includeSystemScope&gt;

                    &lt;!-- advanced settings --&gt;
                    &lt;outputTimestamp&gt;yyyy-MM-dd'T'HH:mm:ssXXX&lt;/outputTimestamp&gt;
                    &lt;layout&gt;JAR|WAR|ZIP|DIR|NONE&lt;/layout&gt;
                    &lt;layoutFactory&gt;...&lt;/layoutFactory&gt;

                    &lt;!-- include/exclude and control dependencies --&gt;
                    &lt;includedDependencies&gt;
                        &lt;includedDependency&gt;..&lt;/includedDependency&gt;
                        &lt;includedDependency&gt;..&lt;/includedDependency&gt;
                    &lt;/includedDependencies&gt;
                    &lt;excludedDependencies&gt;
                        &lt;excludeDependency&gt;...&lt;/excludeDependency&gt;
                        &lt;excludeDependency&gt;...&lt;/excludeDependency&gt;
                    &lt;/excludedDependencies&gt;
                    &lt;optionalDependencies&gt;
                        &lt;optionalDependency&gt;..&lt;/optionalDependency&gt;
                        &lt;optionalDependency&gt;..&lt;/optionalDependency&gt;
                    &lt;/optionalDependencies&gt;
                    &lt;runtimeUnpackedDependencies&gt;
                        &lt;runtimeUnpackedDependency&gt;..&lt;/runtimeUnpackedDependency&gt;
                        &lt;runtimeUnpackedDependency&gt;..&lt;/runtimeUnpackedDependency&gt;
                    &lt;/runtimeUnpackedDependencies&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;
</code></pre></div>
<table class="table table-striped">
<thead>
<tr class="a">
<th>Option</th>
<th>Type</th>
<th>Default</th>
<th>Function</th></tr></thead><tbody>
<tr class="b">
<td>attachRepackedArtifact</td>
<td>boolean</td>
<td><code>true</code></td>
<td>Attaches the artifact created by the plugin to the maven build lifecycle.</td></tr>
<tr class="a">
<td>excludedDependencies</td>
<td>set of <code>excludedDependency</code> elements</td>
<td>&lt;empty&gt;</td>
<td>List of dependencies that should be excluded from packaging into the final archive.</td></tr>
<tr class="b">
<td>finalName</td>
<td>string</td>
<td><code>${project.build.finalName}</code></td>
<td>Sets the name of the final artifact.</td></tr>
<tr class="a">
<td>includedDependencies</td>
<td>set of <code>includedDependency</code> elements</td>
<td>&lt;empty&gt;</td>
<td>List of dependencies that should be included into the final archive.</td></tr>
<tr class="b">
<td>includeOptional</td>
<td>boolean</td>
<td><code>false</code></td>
<td>If <code>true</code>, any dependency declared as <code>optional</code> is also packaged.</td></tr>
<tr class="a">
<td>includeProvidedScope</td>
<td>boolean</td>
<td><code>false</code></td>
<td>If <code>true</code>, any dependency declared in <code>provided</code> scope is also packaged.</td></tr>
<tr class="b">
<td>includeSystemScope</td>
<td>boolean</td>
<td><code>false</code></td>
<td>If <code>true</code>, any dependency declared in <code>system</code> scope is also packaged.</td></tr>
<tr class="a">
<td>layout</td>
<td>one of <code>JAR</code>, <code>WAR</code>, <code>ZIP</code>, <code>DIR</code> or <code>NONE</code></td>
<td><code>JAR</code></td>
<td>The layout of the final archive. Default is <code>JAR</code>.</td></tr>
<tr class="b">
<td>layoutFactory</td>
<td>class name (string)</td>
<td>&lt;unset&gt;</td>
<td>Use a custom layout factory to define the archive layout. This is an advanced option. See <a href="https://docs.spring.io/spring-boot/docs/2.6.15/maven-plugin/reference/htmlsingle/#packaging.examples.custom-layout" class="externalLink">the spring boot documentation</a> for details. Unlike the spring-boot plugin, setting a layout factory overrides any direct layout setting.</td></tr>
<tr class="a">
<td>mainClass</td>
<td>class name (string)</td>
<td>&lt;unset&gt;</td>
<td>The main class for the final artifact.</td></tr>
<tr class="b">
<td>optionalDependencies</td>
<td>set of <code>optionalDependency</code> elements</td>
<td>&lt;empty&gt;</td>
<td>List of optional dependencies that should be included, even if <code>includeOptional</code> is set to <code>false</code>.</td></tr>
<tr class="a">
<td>outputDirectory</td>
<td>filesystem folder (string)</td>
<td><code>${project.build.directory}</code></td>
<td>The folder into which the final artifact is written. Defaults to the build output directory.</td></tr>
<tr class="b">
<td>outputTimestamp</td>
<td>timestamp value (string)</td>
<td><code>${project.build.outputTimestamp}</code></td>
<td>A timestamp for the final artifact that can be used to create reproducible builds. Must be formatted as an ISO8601 (<code>yyyy-MM-dd'T'HH:mm:ssXXX</code>) timestamp or an integer number representing the seconds since the epoch.</td></tr>
<tr class="a">
<td>quiet</td>
<td>boolean</td>
<td><code>false</code></td>
<td>Only report warnings and errors if set to <code>true</code>.</td></tr>
<tr class="b">
<td>repackClassifier</td>
<td>string</td>
<td>repacked</td>
<td>The classifier for the final artifact.</td></tr>
<tr class="a">
<td>report</td>
<td>boolean</td>
<td><code>true</code></td>
<td>If <code>true</code>, display a summary report of all packaged and ignored dependencies and their scope.</td></tr>
<tr class="b">
<td>runtimeUnpackedDependencies</td>
<td>set of <code>runtimeUnpackedDependency</code> elements</td>
<td>&lt;empty&gt;</td>
<td>List of dependencies that do not function within the packaged jar and must be unpacked first.</td></tr>
<tr class="a">
<td>skip</td>
<td>boolean</td>
<td><code>false</code></td>
<td>If <code>true</code>, skip plugin execution.</td></tr></tbody>
</table>
<section>
<h4>Specifying dependencies</h4>
<p>The <code>includedDependencies</code>, <code>excludedDependencies</code>, <code>optionalDependencies</code> and <code>runtimeUnpackDependencies</code> parameters all define elements for dependency matchers that are applied to the dependencies of the main artifact. The matchers can only include or exclude dependencies that are defined by the artifact, they can not add any additional dependencies.</p>
<table class="table table-striped">
<thead>
<tr class="a">
<th>property</th>
<th>function</th></tr></thead><tbody>
<tr class="b">
<td><code>includedDependencies</code></td>
<td>defines which artifact dependencies are included in the final archive. The default is the empty list; this includes all dependencies scope that the artifact has declared.</td></tr>
<tr class="a">
<td><code>excludedDependencies</code></td>
<td>defines which artifact dependencies are excluded from the final archive. The default is the empty list; no dependencies are excluded.</td></tr>
<tr class="b">
<td><code>optionalDependencies</code></td>
<td>defines which artifacts in <code>optional</code> scope are included in the final archive, even if the <code>includeOptional</code> option is set to <code>false</code>.</td></tr>
<tr class="a">
<td><code>runtimeUnpackDependencies</code></td>
<td>defines which artifacts are unpacked from the archive at runtime and added to the classpath using the standard java class loader. This is required for some dependencies that do not work inside the repacked archive.</td></tr></tbody>
</table>

<p>A dependency is defined as <code>&lt;group-id&gt;:&lt;artifact-id&gt;:&lt;type&gt;:&lt;classifier&gt;</code>. Only the group id is required, all other elements can be omitted or left empty.</p>
<table class="table table-striped">
<thead>
<tr class="a">
<th>field</th>
<th>default value</th>
<th>function</th></tr></thead><tbody>
<tr class="b">
<td>group-id</td>
<td>&lt;unset&gt;</td>
<td>Matches the group id. The value <code>*</code> matches any group id.</td></tr>
<tr class="a">
<td>artifact-id</td>
<td><code>*</code></td>
<td>Matches the artifact id. The default value, <code>*</code> matches any artifact id.</td></tr>
<tr class="b">
<td>type</td>
<td><code>jar</code></td>
<td>The artifact type.</td></tr>
<tr class="a">
<td>classifier</td>
<td>&lt;empty&gt;</td>
<td>Matches a dependency classifier. Most jars do not use classifiers.</td></tr></tbody>
</table>

<p>See the <a href="plugin-info.html">plugin goals documentation</a> for additional details on how to use this plugin.</p></section></section></section></section>
        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>©      2021–2024
<a href="https://github.com/basepom">The basepom project</a>
</p>
        </div>
      </div>
    </footer>
<script>
  if(anchors) {
    anchors.add();
  }
</script>
  </body>
</html>